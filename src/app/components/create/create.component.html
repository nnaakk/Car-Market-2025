<h2>Create Car</h2>

<form [formGroup]="carForm" (ngSubmit)="createCar()">
  <div class="container">
    <div class="info">
      <!-- Brand -->
      <label for="brand">Brand</label>
      <input id="brand" type="text" formControlName="brand">
      @if (carForm.get('brand')?.invalid && carForm.get('brand')?.touched) {
      <p style="color: red;">Brand is required.</p>
      }

      <!-- Type -->
      <label for="typ">Type</label>
      <select id="typ" formControlName="typ">
        <option value="">Select type</option>
        <option value="Sedan">Sedan</option>
        <option value="Coupe">Coupe</option>
        <option value="SUV">SUV</option>
        <option value="Hatchback">Hatchback</option>
      </select>
      @if (carForm.get('typ')?.invalid && carForm.get('typ')?.touched) {
      <p style="color: red;">Type is required.</p>
      }

      <!-- Power -->
      <label for="power">Power (hp)</label>
      <input id="power" type="text" formControlName="power">
      @if (carForm.get('power')?.invalid && carForm.get('power')?.touched) {
      <p style="color: red;">Power is required.</p>
      }

      <!-- Year -->
      <label for="year">Year of Manufacture</label>
      <input id="year" type="number" formControlName="year">
      @if (carForm.get('year')?.invalid && carForm.get('year')?.touched) {
      <p style="color: red;">Year must be valid and not earlier than 1900.</p>
      }

      <!-- Price -->
      <label for="price">Price</label>
      <input id="price" type="number" formControlName="price" min="0">
      @if (carForm.get('price')?.invalid && carForm.get('price')?.touched) {
      <p style="color: red;">Price is required.</p>
      }

      <!-- Phone -->
      <label for="phone">Contact Phone</label>
      <input id="phone" type="tel" formControlName="phone" placeholder="089XXXXXXX">
      @if (carForm.get('phone')?.invalid && carForm.get('phone')?.touched) {
      <p style="color: red;">A valid phone number is required.</p>
      }

      <!-- Description -->
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
      @if (carForm.get('description')?.invalid && carForm.get('description')?.touched) {
      <p style="color: red;">Description is required.</p>
      }

      <button type="submit" [disabled]="carForm.invalid">Create Car</button>
    </div>

    <!-- Images -->
    <div class="image" formArrayName="images">
      <label>Enter 5 image URLs</label>
      @for (imgCtrl of images.controls; track $index) {
      <input [formControlName]="$index" type="text" placeholder="Image URL {{ $index + 1 }}">
      @if (imgCtrl.invalid && imgCtrl.touched) {
      <p style="color: red;">Image URL {{ $index + 1 }} is required.</p>
      }
      }

    </div>

  </div>

</form>